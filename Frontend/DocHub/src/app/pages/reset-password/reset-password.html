<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 body">

  <div
    class="relative backdrop-blur-xl bg-white/30 border border-white/40 rounded-3xl
           p-10 w-full max-w-lg shadow-2xl text-center"
  >

    <!-- Icon -->
    <div class="flex justify-center mb-4">
      <div class="w-14 h-14 rounded-full bg-blue-600/90 flex items-center justify-center shadow-lg">
        <i class="fas fa-lock text-white text-xl"></i>
      </div>
    </div>

    <h2 class="text-3xl font-bold text-gray-800 mb-2">Reset Password</h2>
    <p class="text-gray-700 text-sm mb-6">
      Choose a strong new password to secure your account
    </p>

    <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-5">

      <!-- New Password -->
<div class="relative">
  <input
    [type]="showPassword ? 'text' : 'password'"
    formControlName="newPassword"
    placeholder="New Password"
    class="w-full px-4 py-3 rounded-xl bg-white/70 border border-gray-300
           focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
  />

  <button
    type="button"
    (click)="showPassword = !showPassword"
    class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-600"
  >
    <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
  </button>
</div>

<!-- minlength error -->
<p
  *ngIf="
    form.controls['newPassword'].touched &&
    form.controls['newPassword'].errors?.['minlength']
  "
  class="text-red-600 text-sm font-medium mt-1"
>
  Password must be at least 6 characters long
</p>


      <!-- Confirm Password -->
      <div class="relative">
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          formControlName="confirmPassword"
          placeholder="Confirm Password"
          class="w-full px-4 py-3 rounded-xl bg-white/70 border border-gray-300
                 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        />

        <button
          type="button"
          (click)="showConfirmPassword = !showConfirmPassword"
          class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-600"
        >
          <i class="fas" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
        </button>
      </div>

      <!-- Password mismatch error -->
      <p
        *ngIf="form.errors?.['passwordMismatch'] && form.touched"
        class="text-red-600 text-sm font-medium"
      >
        Passwords do not match
      </p>

      <!-- Button -->
      <button
        type="submit"
        [disabled]="form.invalid || loading"
        class="w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400
               disabled:cursor-not-allowed active:scale-[0.98]
               text-white font-semibold py-3 rounded-xl
               shadow-lg shadow-blue-500/40 transition-all"
      >
        {{ loading ? 'Resetting...' : 'Reset Password' }}
      </button>

    </form>

    <!-- Backend error -->
    <p
      *ngIf="error"
      class="mt-4 text-red-600 font-medium bg-red-100/60 rounded-lg py-2 px-3"
    >
      {{ error }}
    </p>

  </div>

</div>
